# RPG Monster Generator 設定リファレンス

このガイドでは、`RPG Monster Generator` ノードで選択可能な各項目の意味と、生成される画像への影響について解説します。

---

## 1. Style (画風・技法)
画像全体の描き方を決定します。

| スタイル名 | 概要 | 推奨設定 (自動出力) |
| :--- | :--- | :--- |
| **Oil Painting** | 重厚な油彩画 | Steps: 30, CFG: 8.0, Sampler: dpmpp_2m |
| **Cinematic Realistic** | 写実的なリアル | Steps: 35, CFG: 6.5, Sampler: dpmpp_3m_sde_gpu |
| **Ancient Sketch** | 手書きスケッチ | Steps: 20, CFG: 5.0, Sampler: euler |
| **Anime Cel Shaded** | アニメ風（セル画） | Steps: 28, CFG: 7.5, Sampler: dpmpp_2m |

> [!TIP]
> **アニメ風スタイルをさらに高品質にするには**
> `Juggernaut XL` などの実写・汎用系モデルでも動作しますが、アニメ専用モデル（例：`Animagine XL`, `Pony Diffusion V6 XL` など）に切り替えると、より本物のアニメに近い、鮮やかな塗りや綺麗な線画が得られます。

---

## 7. KSampler との連携方法
このノードは、選択したスタイルに最適な KSampler の設定値（steps, cfg, sampler_name, scheduler）を自動的に出力します。

### 設定手順
1.  **KSampler ノードを用意する**: 通常の `KSampler` ノードを配置します。
2.  **入力をピンに変換する**: `KSampler` ノードの上で **右クリック** し、以下を選択して各項目を入力ピンに変換します：
    - `convert steps to input`
    - `convert cfg to input`
    - `convert sampler_name to input`
    - `convert scheduler to input`
3.  **線を繋ぐ**: `RPG Monster Generator` ノードの各出力ピンから、`KSampler` の対応する入力ピンへ線を繋ぎます。

### 推奨値の微調整（Offset機能）
`KSampler` に設定値を繋ぐと、サンプラー側での直接操作ができなくなります。その代わりに、当ノードの **`steps_offset`** と **`cfg_offset`** を操作することで、推奨値を基準に数値を微調整できます。
- **steps_offset**: スタイルの基本ステップに追加・削減する値（例：`-5` で 5 ステップ減らす）。
- **cfg_offset**: 基本 CFG に加算・減算する値（例：`1.5` で 1.5 上げる）。

## 2. Species (種族)
モンスターの基本的な外見を決定します。現在、以下の全28種族が選択可能です。

- **Slime**: 半透明、粘液質、核が見える。
- **Skeleton**: 露出した骨、暗い眼窩、崩れかけた質感。
- **Orc**: 筋骨逞しく、牙があり、荒々しい戦士。
- **Dragon**: 鱗、巨大な翼、鋭い爪、爬虫類的な瞳。
- **Bat**: 巨大な翼を持つ蝙蝠、鋭い牙、毛深い体。
- **Rat**: 突然変異した巨大ネズミ、光る目、鋭い爪。
- **Frog**: 湿った肌、大きな口、突き出た目。
- **Spider**: 八本の脚、複数の目、毛深い体質。
- **Kobold**: Reptilian（爬虫類）の特徴を持つ、小さな戦士。
- **Goblin**: 緑色の肌、尖った耳、邪悪な表情。
- **Ogre**: 巨大な体、厚い皮膚、単角。
- **Vampire**: 青白い肌、鋭い牙、貴族的な装束。
- **Demon**: 角、翼、筋肉質な体、威圧感。
- **Ghost**: 半透明、幽霊のような実体のない姿。
- **Hydra**: 複数の蛇のような首を持つ大蛇。
- **Manticore**: ライオンの体、蝙蝠の翼、蠍の尾。
- **Medusa**: 蛇の髪を持つ女性。魅惑的な美しさと石化の視線、しなやかな曲線美。
- **Gargoyle**: 石造りの翼を持つ怪物、ひび割れた石の肌。
- **Lich**: 古代の骨格、魔術師のローブ、腐敗した布。
- **Mimic**: 宝箱に擬態した怪物、鋭い牙、長い舌。
- **Wolf**: 獰猛な巨大狼、逆立った毛並み、捕食者の構え。
- **Ghoul**: 飢えたアンデッド、青白い皮膚、壊死したオーラ。
- **Giant Worm**: 巨大な環形動物、幾重にも重なる鋭い歯。
- **Chimera**: ライオン・山羊・蛇が融合した異形の獣。
- **Flesh Golem**: 繋ぎ合わされた筋肉と皮膚の構築物。
- **Harpy**: 女性の半身と鳥の翼・爪を持つ怪鳥。蠱惑的な雰囲気と優雅なシルエット。
- **Wraith**: 黒いボロを纏った死神のような影。
- **Cerberus**: 三つの頭を持つ巨大な魔犬、鋭い牙と黒い毛並。

### 主な種族の定義例

| 種族名 | 特徴・プロンプトの狙い |
| :--- | :--- |
| **Dragon** | 巨体と巨大な翼を強調。雷（Lightning）属性時でも翼が消えないようプロンプトを固定。 |
| **Giant Worm** | 床の上でミミズのようにグルグルと巻いた「とぐろ（spiral mound）」の造形を重視。 |
| **Harpy** | 優美な人面・しなやかなS字ポーズ・女性の上半身と鳥の翼・足を両立。体にフィットする装甲（form-fitting armor）で色香と安全性を維持。 |
| **Medusa** | 魅惑的な美貌と威圧感を両立。S字の曲線美を強調した構図と、露出を抑えた豪華な装甲デザインを採用。 |
| **Cerberus** | 3つの独立した頭部と、低い姿勢での全身描写を安定化。 |
| **Demon** | ポーズのバリエーション（翼を広げる、屈む等）と斜め構図を導入し、正面固定を回避。 |
| **Slime** | 球体を避け、雫型や床に広がった不定形、内部の核（Nucleus）を強調。 |

---

## 3. Element (属性)
モンスターが纏うエネルギーや視覚的なエフェクトを決定します。

- **None**: 属性なし。
- **Fire**: 炎の粒子、煙、灼熱のマグマのような赤。
- **Ice**: 氷の結晶、冷気、青白く澄んだ輝き。
- **Poison**: 紫や緑の霧、毒々しい泡、腐食感。
- **Lightning**: 青い電光、シアンの閃光、激しい放電エフェクト。
- **Dark**: 黒い影のオーラ、光を吸収する紫の虚無感。
- **Light**: 聖なる黄金の輝き、神々しい光の粒。
- **Metal**: 鏡面仕上げのメタリックな質感、クローム。

---

## 4. Variant (変異・個体差)
モンスターの「状態」や「個体としての特徴」を決定します。

- **Normal**: 標準的な個体。
- **Enraged**: 怒り狂った状態。血管の隆起や攻撃的なポーズ。
- **Ancient**: 長い年月を経た個体。体毛や岩肌に苔が生え、風化している。
- **Mutated**: 突然変異。不規則な結晶や棘が体から生えている。

> [!TIP]
> **「Style: Ancient Sketch」と「Variant: Ancient」の違い**
> - **Style: Ancient Sketch** は「古いスケッチという**描き方**」です。
> - **Variant: Ancient** は「モンスターが**長生きしている**」という設定です。
> 両方を組み合わせると、「古文書に記された古の化け物」という非常に雰囲気のある画像になります。

---

## 5. Rank (強さ・希少度)
モンスターの迫力や装飾の豪華さを決定します。

- **Common**: 一般的な個体。標準的な外見で装飾も控えめ。
- **Elite**: 強力な個体。鉄や青銅の装具を纏い、歴戦の凄みがある。
- **Boss**: 強大で威厳のある個体。圧倒的巨体と周囲に漂うオーラ、地響きを感じる存在感。
- **Legendary**: 神話の如き最高位。黄金に輝く装飾、神々しい粒子を纏った究極の造形。


---

## 6. Scene (背景・場所)
モンスターが出現する場所（背景）を決定します。

- **Dungeon**: 暗い石造りの地下牢。鉄格子のある冷たい部屋。
- **Lava Cave**: 溶岩が流れる灼熱の洞窟。
- **Ice Vault**: 氷に閉ざされた古代の宝物庫。
- **Graveyard**: 地下の墓地、カタコンベ。
- **Throne Room**: 廃墟となった玉座の間、ひび割れた大理石。
- **Transparent (White)**: 純白の背景。素材の切り抜き（透過処理）に最適。

> [!TIP]
> **「背景透過」を実現するには**
> AIは直接透明な画像を出力するのが苦手なため、この `Transparent (White)` を選んで「白い背景の画像」を作り、ComfyUI の **`Rembg`** や **`LayerMask`** といった背景削除ノードを繋ぐことで、綺麗な透過PNG素材を作成できます。

---

## 組み合わせのコツ
- **リアルにしたい**: `Cinematic Realistic` を選び、KSampler の CFG を少し下げてください。
- **研究資料風**: `Ancient Sketch` と `Scene: Graveyard` や `Variant: Ancient` を組み合わせるのがおすすめです。
- **属性の視認性を高める**: `Element: Fire` や `Lightning` を選んだ際は、少し暗い `Scene` を選ぶと光が映えます。
